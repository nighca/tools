<html>
	<head>
		<meta charset="utf-8"/>
		<script src="wasm_exec.js"></script>
		<script>
			const go = new Go();
			WebAssembly.instantiateStreaming(fetch("./goxls-web.wasm"), go.importObject).then((result) => {
				go.run(result.instance);

        main();
			});

      function main() {

        window.goxlsListen(data => {
          console.info('Got data:', data)
        })

        window.goxlsEmit(JSON.stringify({
          method: 'initialize',
          params: {
            // The process Id of the parent process that started
            // the server.
            //
            // Is `null` if the process has not been started by another process.
            // If the parent process is not alive then the server should exit.
            processId: 0,
            // Information about the client
            //
            // @since 3.15.0
            clientInfo: {
              name: 'TODO',
              version: '1.0.0'
            },
            // The locale the client is currently showing the user interface
            // in. This must not necessarily be the locale of the operating
            // system.
            //
            // Uses IETF language tags as the value's syntax
            // (See https://en.wikipedia.org/wiki/IETF_language_tag)
            //
            // @since 3.16.0
            locale: 'en',
            // The rootPath of the workspace. Is null
            // if no folder is open.
            //
            // @deprecated in favour of rootUri.
            rootPath: 'TODO',
            // The rootUri of the workspace. Is null if no
            // folder is open. If both `rootPath` and `rootUri` are set
            // `rootUri` wins.
            //
            // @deprecated in favour of workspaceFolders.
            rootUri: 'TODO',
            // The capabilities provided by the client (editor or tool)
            capabilities: {
              synchronization: {
                dynamicRegistration: false,
                executionSummarySupport: false
              }
            },
            // User provided initialization options.
            initializationOptions: {},
            // The initial trace setting. If omitted trace is disabled ('off').
            trace: undefined,
            WorkDoneToken: undefined,
            // The workspace folders configured in the client when the server starts.
            //
            // This property is only available if the client supports workspace folders.
            // It can be `null` if the client supports workspace folders but none are
            // configured.
            //
            // @since 3.6.0
            workspaceFolders: [
              {
                uri: 'TODO',
                name: 'TODO'
              }
            ]
          }
        }))
      }
		</script>
	</head>
	<body></body>
</html>